import{L as h,I as x,J as c,K as Ze,M as G,N as M,O as A,Q as F,R as ke,S as Xe,U as Ke,V as Qe,Z as Ye,X as et,Y as tt,$ as de,a0 as W,a1 as nt,a2 as ee,a3 as q,a4 as _e,a5 as rt,a6 as st,a7 as it,a8 as H,a9 as at,aa as je,ab as fe,ac as ot,w as lt,d as ut,c as te,r as z,ad as ct,x as dt,z as pt,ae as ht,o as ft,b as ne,e as N,F as yt,j as mt,n as ve,t as J,m as gt,q as bt,T as wt,D as Et,W as _t,af as Te,ag as vt,a as re,g as Tt,p as At,h as xt,_ as St}from"./index.3cf2033f.js";import{M as Nt,a as Ae,u as Rt}from"./request-cancel-map.b5b1ef66.js";const Y="abi/5.7.0",p=new h(Y),U={};let xe={calldata:!0,memory:!0,storage:!0},Ot={calldata:!0,memory:!0};function se(i,e){if(i==="bytes"||i==="string"){if(xe[e])return!0}else if(i==="address"){if(e==="payable")return!0}else if((i.indexOf("[")>=0||i==="tuple")&&Ot[e])return!0;return(xe[e]||e==="payable")&&p.throwArgumentError("invalid modifier","name",e),!1}function Ct(i,e){let t=i;function n(o){p.throwArgumentError(`unexpected character at position ${o}`,"param",i)}i=i.replace(/\s/g," ");function s(o){let l={type:"",name:"",parent:o,state:{allowType:!0}};return e&&(l.indexed=!1),l}let a={type:"",name:"",state:{allowType:!0}},r=a;for(let o=0;o<i.length;o++){let l=i[o];switch(l){case"(":r.state.allowType&&r.type===""?r.type="tuple":r.state.allowParams||n(o),r.state.allowType=!1,r.type=$(r.type),r.components=[s(r)],r=r.components[0];break;case")":delete r.state,r.name==="indexed"&&(e||n(o),r.indexed=!0,r.name=""),se(r.type,r.name)&&(r.name=""),r.type=$(r.type);let u=r;r=r.parent,r||n(o),delete u.parent,r.state.allowParams=!1,r.state.allowName=!0,r.state.allowArray=!0;break;case",":delete r.state,r.name==="indexed"&&(e||n(o),r.indexed=!0,r.name=""),se(r.type,r.name)&&(r.name=""),r.type=$(r.type);let d=s(r.parent);r.parent.components.push(d),delete r.parent,r=d;break;case" ":r.state.allowType&&r.type!==""&&(r.type=$(r.type),delete r.state.allowType,r.state.allowName=!0,r.state.allowParams=!0),r.state.allowName&&r.name!==""&&(r.name==="indexed"?(e||n(o),r.indexed&&n(o),r.indexed=!0,r.name=""):se(r.type,r.name)?r.name="":r.state.allowName=!1);break;case"[":r.state.allowArray||n(o),r.type+=l,r.state.allowArray=!1,r.state.allowName=!1,r.state.readArray=!0;break;case"]":r.state.readArray||n(o),r.type+=l,r.state.readArray=!1,r.state.allowArray=!0,r.state.allowName=!0;break;default:r.state.allowType?(r.type+=l,r.state.allowParams=!0,r.state.allowArray=!0):r.state.allowName?(r.name+=l,delete r.state.allowArray):r.state.readArray?r.type+=l:n(o)}}return r.parent&&p.throwArgumentError("unexpected eof","param",i),delete a.state,r.name==="indexed"?(e||n(t.length-7),r.indexed&&n(t.length-7),r.indexed=!0,r.name=""):se(r.type,r.name)&&(r.name=""),a.type=$(a.type),a}function oe(i,e){for(let t in e)c(i,t,e[t])}const f=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),Mt=new RegExp(/^(.*)\[([0-9]*)\]$/);class E{constructor(e,t){e!==U&&p.throwError("use fromString",h.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),oe(this,t);let n=this.type.match(Mt);n?oe(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:E.fromObject({type:n[1],components:this.components}),baseType:"array"}):oe(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=f.sighash),f[e]||p.throwArgumentError("invalid format type","format",e),e===f.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(s=>JSON.parse(s.format(e)))),JSON.stringify(n)}let t="";return this.baseType==="array"?(t+=this.arrayChildren.format(e),t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==f.sighash&&(t+=this.type),t+="("+this.components.map(n=>n.format(e)).join(e===f.full?", ":",")+")"):t+=this.type,e!==f.sighash&&(this.indexed===!0&&(t+=" indexed"),e===f.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return typeof e=="string"?E.fromString(e,t):E.fromObject(e)}static fromObject(e){return E.isParamType(e)?e:new E(U,{name:e.name||null,type:$(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(E.fromObject):null})}static fromString(e,t){function n(s){return E.fromObject({name:s.name,type:s.type,indexed:s.indexed,components:s.components})}return n(Ct(e,!!t))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function Z(i,e){return kt(i).map(t=>E.fromString(t,e))}class k{constructor(e,t){e!==U&&p.throwError("use a static from method",h.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),oe(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return k.isFragment(e)?e:typeof e=="string"?k.fromString(e):k.fromObject(e)}static fromObject(e){if(k.isFragment(e))return e;switch(e.type){case"function":return C.fromObject(e);case"event":return P.fromObject(e);case"constructor":return O.fromObject(e);case"error":return L.fromObject(e);case"fallback":case"receive":return null}return p.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?P.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?C.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?O.fromString(e.trim()):e.split(" ")[0]==="error"?L.fromString(e.substring(5).trim()):p.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class P extends k{format(e){if(e||(e=f.sighash),f[e]||p.throwArgumentError("invalid format type","format",e),e===f.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let t="";return e!==f.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===f.full?", ":",")+") ",e!==f.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return typeof e=="string"?P.fromString(e):P.fromObject(e)}static fromObject(e){if(P.isEventFragment(e))return e;e.type!=="event"&&p.throwArgumentError("invalid event object","value",e);const t={name:X(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(E.fromObject):[],type:"event"};return new P(U,t)}static fromString(e){let t=e.match(K);t||p.throwArgumentError("invalid event string","value",e);let n=!1;return t[3].split(" ").forEach(s=>{switch(s.trim()){case"anonymous":n=!0;break;case"":break;default:p.warn("unknown modifier: "+s)}}),P.fromObject({name:t[1].trim(),anonymous:n,inputs:Z(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function Ie(i,e){e.gas=null;let t=i.split("@");return t.length!==1?(t.length>2&&p.throwArgumentError("invalid human-readable ABI signature","value",i),t[1].match(/^[0-9]+$/)||p.throwArgumentError("invalid human-readable ABI signature gas","value",i),e.gas=x.from(t[1]),t[0]):i}function Le(i,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",i.split(" ").forEach(t=>{switch(t.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+t)}})}function Ue(i){let e={constant:!1,payable:!0,stateMutability:"payable"};return i.stateMutability!=null?(e.stateMutability=i.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",i.constant!=null&&!!i.constant!==e.constant&&p.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",i),e.payable=e.stateMutability==="payable",i.payable!=null&&!!i.payable!==e.payable&&p.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",i)):i.payable!=null?(e.payable=!!i.payable,i.constant==null&&!e.payable&&i.type!=="constructor"&&p.throwArgumentError("unable to determine stateMutability","value",i),e.constant=!!i.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&p.throwArgumentError("cannot have constant payable function","value",i)):i.constant!=null?(e.constant=!!i.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):i.type!=="constructor"&&p.throwArgumentError("unable to determine stateMutability","value",i),e}class O extends k{format(e){if(e||(e=f.sighash),f[e]||p.throwArgumentError("invalid format type","format",e),e===f.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===f.sighash&&p.throwError("cannot format a constructor for sighash",h.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map(n=>n.format(e)).join(e===f.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(t+=this.stateMutability+" "),t.trim()}static from(e){return typeof e=="string"?O.fromString(e):O.fromObject(e)}static fromObject(e){if(O.isConstructorFragment(e))return e;e.type!=="constructor"&&p.throwArgumentError("invalid constructor object","value",e);let t=Ue(e);t.constant&&p.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(E.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?x.from(e.gas):null};return new O(U,n)}static fromString(e){let t={type:"constructor"};e=Ie(e,t);let n=e.match(K);return(!n||n[1].trim()!=="constructor")&&p.throwArgumentError("invalid constructor string","value",e),t.inputs=Z(n[2].trim(),!1),Le(n[3].trim(),t),O.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class C extends O{format(e){if(e||(e=f.sighash),f[e]||p.throwArgumentError("invalid format type","format",e),e===f.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let t="";return e!==f.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===f.full?", ":",")+") ",e!==f.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return typeof e=="string"?C.fromString(e):C.fromObject(e)}static fromObject(e){if(C.isFunctionFragment(e))return e;e.type!=="function"&&p.throwArgumentError("invalid function object","value",e);let t=Ue(e);const n={type:e.type,name:X(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(E.fromObject):[],outputs:e.outputs?e.outputs.map(E.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?x.from(e.gas):null};return new C(U,n)}static fromString(e){let t={type:"function"};e=Ie(e,t);let n=e.split(" returns ");n.length>2&&p.throwArgumentError("invalid function string","value",e);let s=n[0].match(K);if(s||p.throwArgumentError("invalid function signature","value",e),t.name=s[1].trim(),t.name&&X(t.name),t.inputs=Z(s[2],!1),Le(s[3].trim(),t),n.length>1){let a=n[1].match(K);(a[1].trim()!=""||a[3].trim()!="")&&p.throwArgumentError("unexpected tokens","value",e),t.outputs=Z(a[2],!1)}else t.outputs=[];return C.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function Se(i){const e=i.format();return(e==="Error(string)"||e==="Panic(uint256)")&&p.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",i),i}class L extends k{format(e){if(e||(e=f.sighash),f[e]||p.throwArgumentError("invalid format type","format",e),e===f.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let t="";return e!==f.sighash&&(t+="error "),t+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===f.full?", ":",")+") ",t.trim()}static from(e){return typeof e=="string"?L.fromString(e):L.fromObject(e)}static fromObject(e){if(L.isErrorFragment(e))return e;e.type!=="error"&&p.throwArgumentError("invalid error object","value",e);const t={type:e.type,name:X(e.name),inputs:e.inputs?e.inputs.map(E.fromObject):[]};return Se(new L(U,t))}static fromString(e){let t={type:"error"},n=e.match(K);return n||p.throwArgumentError("invalid error signature","value",e),t.name=n[1].trim(),t.name&&X(t.name),t.inputs=Z(n[2],!1),Se(L.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function $(i){return i.match(/^uint($|[^1-9])/)?i="uint256"+i.substring(4):i.match(/^int($|[^1-9])/)&&(i="int256"+i.substring(3)),i}const Pt=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function X(i){return(!i||!i.match(Pt))&&p.throwArgumentError(`invalid identifier "${i}"`,"value",i),i}const K=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function kt(i){i=i.trim();let e=[],t="",n=0;for(let s=0;s<i.length;s++){let a=i[s];a===","&&n===0?(e.push(t),t=""):(t+=a,a==="("?n++:a===")"&&(n--,n===-1&&p.throwArgumentError("unbalanced parenthesis","value",i)))}return t&&e.push(t),e}const ge=new h(Y);function jt(i){const e=[],t=function(n,s){if(!!Array.isArray(s))for(let a in s){const r=n.slice();r.push(a);try{t(r,s[a])}catch(o){e.push({path:r,error:o})}}};return t([],i),e}class j{constructor(e,t,n,s){this.name=e,this.type=t,this.localName=n,this.dynamic=s}_throwError(e,t){ge.throwArgumentError(e,this.localName,t)}}class ye{constructor(e){c(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return Ze(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(G(e._data))}writeBytes(e){let t=M(e);const n=t.length%this.wordSize;return n&&(t=G([t,this._padding.slice(n)])),this._writeData(t)}_getValue(e){let t=M(x.from(e));return t.length>this.wordSize&&ge.throwError("value out-of-bounds",h.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=G([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class ue{constructor(e,t,n,s){c(this,"_data",M(e)),c(this,"wordSize",t||32),c(this,"_coerceFunc",n),c(this,"allowLoose",s),this._offset=0}get data(){return A(this._data)}get consumed(){return this._offset}static coerce(e,t){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):ue.coerce(e,t)}_peekBytes(e,t,n){let s=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+s>this._data.length&&(this.allowLoose&&n&&this._offset+t<=this._data.length?s=t:ge.throwError("data out-of-bounds",h.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+s})),this._data.slice(this._offset,this._offset+s)}subReader(e){return new ue(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let n=this._peekBytes(0,e,!!t);return this._offset+=n.length,n.slice(0,e)}readValue(){return x.from(this.readBytes(this.wordSize))}}class It extends j{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=F(t)}catch(n){this._throwError(n.message,t)}return e.writeValue(t)}decode(e){return F(ke(e.readValue().toHexString(),20))}}class Lt extends j{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}const B=new h(Y);function Ve(i,e,t){let n=null;if(Array.isArray(t))n=t;else if(t&&typeof t=="object"){let l={};n=e.map(u=>{const d=u.localName;return d||B.throwError("cannot encode object for signature with missing names",h.errors.INVALID_ARGUMENT,{argument:"values",coder:u,value:t}),l[d]&&B.throwError("cannot encode object for signature with duplicate names",h.errors.INVALID_ARGUMENT,{argument:"values",coder:u,value:t}),l[d]=!0,t[d]})}else B.throwArgumentError("invalid tuple value","tuple",t);e.length!==n.length&&B.throwArgumentError("types/value length mismatch","tuple",t);let s=new ye(i.wordSize),a=new ye(i.wordSize),r=[];e.forEach((l,u)=>{let d=n[u];if(l.dynamic){let b=a.length;l.encode(a,d);let y=s.writeUpdatableValue();r.push(w=>{y(w+b)})}else l.encode(s,d)}),r.forEach(l=>{l(s.length)});let o=i.appendWriter(s);return o+=i.appendWriter(a),o}function De(i,e){let t=[],n=i.subReader(0);e.forEach(a=>{let r=null;if(a.dynamic){let o=i.readValue(),l=n.subReader(o.toNumber());try{r=a.decode(l)}catch(u){if(u.code===h.errors.BUFFER_OVERRUN)throw u;r=u,r.baseType=a.name,r.name=a.localName,r.type=a.type}}else try{r=a.decode(i)}catch(o){if(o.code===h.errors.BUFFER_OVERRUN)throw o;r=o,r.baseType=a.name,r.name=a.localName,r.type=a.type}r!=null&&t.push(r)});const s=e.reduce((a,r)=>{const o=r.localName;return o&&(a[o]||(a[o]=0),a[o]++),a},{});e.forEach((a,r)=>{let o=a.localName;if(!o||s[o]!==1||(o==="length"&&(o="_length"),t[o]!=null))return;const l=t[r];l instanceof Error?Object.defineProperty(t,o,{enumerable:!0,get:()=>{throw l}}):t[o]=l});for(let a=0;a<t.length;a++){const r=t[a];r instanceof Error&&Object.defineProperty(t,a,{enumerable:!0,get:()=>{throw r}})}return Object.freeze(t)}class Ut extends j{constructor(e,t,n){const s=e.type+"["+(t>=0?t:"")+"]",a=t===-1||e.dynamic;super("array",s,n,a),this.coder=e,this.length=t}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let n=0;n<this.length;n++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let n=this.length;n===-1&&(n=t.length,e.writeValue(t.length)),B.checkArgumentCount(t.length,n,"coder array"+(this.localName?" "+this.localName:""));let s=[];for(let a=0;a<t.length;a++)s.push(this.coder);return Ve(e,s,t)}decode(e){let t=this.length;t===-1&&(t=e.readValue().toNumber(),t*32>e._data.length&&B.throwError("insufficient data length",h.errors.BUFFER_OVERRUN,{length:e._data.length,count:t}));let n=[];for(let s=0;s<t;s++)n.push(new Lt(this.coder));return e.coerce(this.name,De(e,n))}}class Vt extends j{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class ze extends j{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=M(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class Dt extends ze{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,A(super.decode(e)))}}class zt extends j{constructor(e,t){let n="bytes"+String(e);super(n,n,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,t){let n=M(t);return n.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(n)}decode(e){return e.coerce(this.name,A(e.readBytes(this.size)))}}class $t extends j{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}class Bt extends j{constructor(e,t,n){const s=(t?"int":"uint")+e*8;super(s,s,n,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let n=x.from(t),s=Xe.mask(e.wordSize*8);if(this.signed){let a=s.mask(this.size*8-1);(n.gt(a)||n.lt(a.add(Ke).mul(Qe)))&&this._throwError("value out-of-bounds",t)}else(n.lt(Ye)||n.gt(s.mask(this.size*8)))&&this._throwError("value out-of-bounds",t);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let t=e.readValue().mask(this.size*8);return this.signed&&(t=t.fromTwos(this.size*8)),e.coerce(this.name,t)}}class Gt extends ze{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,et(t))}decode(e){return tt(super.decode(e))}}class ie extends j{constructor(e,t){let n=!1;const s=[];e.forEach(r=>{r.dynamic&&(n=!0),s.push(r.type)});const a="tuple("+s.join(",")+")";super("tuple",a,t,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const t=this.coders.reduce((n,s)=>{const a=s.localName;return a&&(n[a]||(n[a]=0),n[a]++),n},{});return this.coders.forEach((n,s)=>{let a=n.localName;!a||t[a]!==1||(a==="length"&&(a="_length"),e[a]==null&&(e[a]=e[s]))}),Object.freeze(e)}encode(e,t){return Ve(e,this.coders,t)}decode(e){return e.coerce(this.name,De(e,this.coders))}}const ae=new h(Y),Ft=new RegExp(/^bytes([0-9]*)$/),Jt=new RegExp(/^(u?int)([0-9]*)$/);class Wt{constructor(e){c(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new It(e.name);case"bool":return new Vt(e.name);case"string":return new Gt(e.name);case"bytes":return new Dt(e.name);case"array":return new Ut(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new ie((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new $t(e.name)}let t=e.type.match(Jt);if(t){let n=parseInt(t[2]||"256");return(n===0||n>256||n%8!==0)&&ae.throwArgumentError("invalid "+t[1]+" bit length","param",e),new Bt(n/8,t[1]==="int",e.name)}if(t=e.type.match(Ft),t){let n=parseInt(t[1]);return(n===0||n>32)&&ae.throwArgumentError("invalid bytes length","param",e),new zt(n,e.name)}return ae.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new ue(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new ye(this._getWordSize())}getDefaultValue(e){const t=e.map(s=>this._getCoder(E.from(s)));return new ie(t,"_").defaultValue()}encode(e,t){e.length!==t.length&&ae.throwError("types/values length mismatch",h.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});const n=e.map(r=>this._getCoder(E.from(r))),s=new ie(n,"_"),a=this._getWriter();return s.encode(a,t),a.data}decode(e,t,n){const s=e.map(r=>this._getCoder(E.from(r)));return new ie(s,"_").decode(this._getReader(M(t),n))}}const qt=new Wt,m=new h(Y);class Ht extends de{}class Zt extends de{}class Xt extends de{}class me extends de{static isIndexed(e){return!!(e&&e._isIndexed)}}const Kt={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function Ne(i,e){const t=new Error(`deferred error during ABI decoding triggered accessing ${i}`);return t.error=e,t}class Re{constructor(e){let t=[];typeof e=="string"?t=JSON.parse(e):t=e,c(this,"fragments",t.map(n=>k.from(n)).filter(n=>n!=null)),c(this,"_abiCoder",W(new.target,"getAbiCoder")()),c(this,"functions",{}),c(this,"errors",{}),c(this,"events",{}),c(this,"structs",{}),this.fragments.forEach(n=>{let s=null;switch(n.type){case"constructor":if(this.deploy){m.warn("duplicate definition - constructor");return}c(this,"deploy",n);return;case"function":s=this.functions;break;case"event":s=this.events;break;case"error":s=this.errors;break;default:return}let a=n.format();if(s[a]){m.warn("duplicate definition - "+a);return}s[a]=n}),this.deploy||c(this,"deploy",O.from({payable:!1,type:"constructor"})),c(this,"_isInterface",!0)}format(e){e||(e=f.full),e===f.sighash&&m.throwArgumentError("interface does not support formatting sighash","format",e);const t=this.fragments.map(n=>n.format(e));return e===f.json?JSON.stringify(t.map(n=>JSON.parse(n))):t}static getAbiCoder(){return qt}static getAddress(e){return F(e)}static getSighash(e){return nt(ee(e.format()),0,4)}static getEventTopic(e){return ee(e.format())}getFunction(e){if(q(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];m.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),s=Object.keys(this.functions).filter(a=>a.split("(")[0]===n);return s.length===0?m.throwArgumentError("no matching function","name",n):s.length>1&&m.throwArgumentError("multiple matching functions","name",n),this.functions[s[0]]}const t=this.functions[C.fromString(e).format()];return t||m.throwArgumentError("no matching function","signature",e),t}getEvent(e){if(q(e)){const n=e.toLowerCase();for(const s in this.events)if(n===this.getEventTopic(s))return this.events[s];m.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),s=Object.keys(this.events).filter(a=>a.split("(")[0]===n);return s.length===0?m.throwArgumentError("no matching event","name",n):s.length>1&&m.throwArgumentError("multiple matching events","name",n),this.events[s[0]]}const t=this.events[P.fromString(e).format()];return t||m.throwArgumentError("no matching event","signature",e),t}getError(e){if(q(e)){const n=W(this.constructor,"getSighash");for(const s in this.errors){const a=this.errors[s];if(e===n(a))return this.errors[s]}m.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),s=Object.keys(this.errors).filter(a=>a.split("(")[0]===n);return s.length===0?m.throwArgumentError("no matching error","name",n):s.length>1&&m.throwArgumentError("multiple matching errors","name",n),this.errors[s[0]]}const t=this.errors[C.fromString(e).format()];return t||m.throwArgumentError("no matching error","signature",e),t}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch{throw t}}return W(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),W(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){typeof e=="string"&&(e=this.getError(e));const n=M(t);return A(n.slice(0,4))!==this.getSighash(e)&&m.throwArgumentError(`data signature does not match error ${e.name}.`,"data",A(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,t){return typeof e=="string"&&(e=this.getError(e)),A(G([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionData(e,t){typeof e=="string"&&(e=this.getFunction(e));const n=M(t);return A(n.slice(0,4))!==this.getSighash(e)&&m.throwArgumentError(`data signature does not match function ${e.name}.`,"data",A(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,t){return typeof e=="string"&&(e=this.getFunction(e)),A(G([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){typeof e=="string"&&(e=this.getFunction(e));let n=M(t),s=null,a="",r=null,o=null,l=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const u=A(n.slice(0,4)),d=Kt[u];if(d)r=this._abiCoder.decode(d.inputs,n.slice(4)),o=d.name,l=d.signature,d.reason&&(s=r[0]),o==="Error"?a=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(r[0])}`:o==="Panic"&&(a=`; VM Exception while processing transaction: reverted with panic code ${r[0]}`);else try{const b=this.getError(u);r=this._abiCoder.decode(b.inputs,n.slice(4)),o=b.name,l=b.format()}catch{}break}}return m.throwError("call revert exception"+a,h.errors.CALL_EXCEPTION,{method:e.format(),data:A(t),errorArgs:r,errorName:o,errorSignature:l,reason:s})}encodeFunctionResult(e,t){return typeof e=="string"&&(e=this.getFunction(e)),A(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){typeof e=="string"&&(e=this.getEvent(e)),t.length>e.inputs.length&&m.throwError("too many arguments for "+e.format(),h.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});let n=[];e.anonymous||n.push(this.getEventTopic(e));const s=(a,r)=>a.type==="string"?ee(r):a.type==="bytes"?_e(A(r)):(a.type==="bool"&&typeof r=="boolean"&&(r=r?"0x01":"0x00"),a.type.match(/^u?int/)&&(r=x.from(r).toHexString()),a.type==="address"&&this._abiCoder.encode(["address"],[r]),ke(A(r),32));for(t.forEach((a,r)=>{let o=e.inputs[r];if(!o.indexed){a!=null&&m.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+o.name,a);return}a==null?n.push(null):o.baseType==="array"||o.baseType==="tuple"?m.throwArgumentError("filtering with tuples or arrays not supported","contract."+o.name,a):Array.isArray(a)?n.push(a.map(l=>s(o,l))):n.push(s(o,a))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,t){typeof e=="string"&&(e=this.getEvent(e));const n=[],s=[],a=[];return e.anonymous||n.push(this.getEventTopic(e)),t.length!==e.inputs.length&&m.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach((r,o)=>{const l=t[o];if(r.indexed)if(r.type==="string")n.push(ee(l));else if(r.type==="bytes")n.push(_e(l));else{if(r.baseType==="tuple"||r.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([r.type],[l]))}else s.push(r),a.push(l)}),{data:this._abiCoder.encode(s,a),topics:n}}decodeEventLog(e,t,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let y=this.getEventTopic(e);(!q(n[0],32)||n[0].toLowerCase()!==y)&&m.throwError("fragment/topic mismatch",h.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:y,value:n[0]}),n=n.slice(1)}let s=[],a=[],r=[];e.inputs.forEach((y,w)=>{y.indexed?y.type==="string"||y.type==="bytes"||y.baseType==="tuple"||y.baseType==="array"?(s.push(E.fromObject({type:"bytes32",name:y.name})),r.push(!0)):(s.push(y),r.push(!1)):(a.push(y),r.push(!1))});let o=n!=null?this._abiCoder.decode(s,G(n)):null,l=this._abiCoder.decode(a,t,!0),u=[],d=0,b=0;e.inputs.forEach((y,w)=>{if(y.indexed)if(o==null)u[w]=new me({_isIndexed:!0,hash:null});else if(r[w])u[w]=new me({_isIndexed:!0,hash:o[b++]});else try{u[w]=o[b++]}catch(T){u[w]=T}else try{u[w]=l[d++]}catch(T){u[w]=T}if(y.name&&u[y.name]==null){const T=u[w];T instanceof Error?Object.defineProperty(u,y.name,{enumerable:!0,get:()=>{throw Ne(`property ${JSON.stringify(y.name)}`,T)}}):u[y.name]=T}});for(let y=0;y<u.length;y++){const w=u[y];w instanceof Error&&Object.defineProperty(u,y,{enumerable:!0,get:()=>{throw Ne(`index ${y}`,w)}})}return Object.freeze(u)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new Zt({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:x.from(e.value||"0")}):null}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new Ht({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}parseError(e){const t=A(e);let n=this.getError(t.substring(0,10).toLowerCase());return n?new Xt({args:this._abiCoder.decode(n.inputs,"0x"+t.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const Qt="contracts/5.7.0";var V=globalThis&&globalThis.__awaiter||function(i,e,t,n){function s(a){return a instanceof t?a:new t(function(r){r(a)})}return new(t||(t=Promise))(function(a,r){function o(d){try{u(n.next(d))}catch(b){r(b)}}function l(d){try{u(n.throw(d))}catch(b){r(b)}}function u(d){d.done?a(d.value):s(d.value).then(o,l)}u((n=n.apply(i,e||[])).next())})};const g=new h(Qt);function ce(i,e){return V(this,void 0,void 0,function*(){const t=yield e;typeof t!="string"&&g.throwArgumentError("invalid address or ENS name","name",t);try{return F(t)}catch{}i||g.throwError("a provider or signer is needed to resolve ENS names",h.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield i.resolveName(t);return n==null&&g.throwArgumentError("resolver or addr is not configured for ENS name","name",t),n})}function le(i,e,t){return V(this,void 0,void 0,function*(){return Array.isArray(t)?yield Promise.all(t.map((n,s)=>le(i,Array.isArray(e)?e[s]:e[n.name],n))):t.type==="address"?yield ce(i,e):t.type==="tuple"?yield le(i,e,t.components):t.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>le(i,n,t.arrayChildren))):Promise.reject(g.makeError("invalid value for array",h.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function pe(i,e,t){return V(this,void 0,void 0,function*(){let n={};t.length===e.inputs.length+1&&typeof t[t.length-1]=="object"&&(n=H(t.pop())),g.checkArgumentCount(t.length,e.inputs.length,"passed to contract"),i.signer?n.from?n.from=fe({override:ce(i.signer,n.from),signer:i.signer.getAddress()}).then(u=>V(this,void 0,void 0,function*(){return F(u.signer)!==u.override&&g.throwError("Contract with a Signer cannot override from",h.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),u.override})):n.from=i.signer.getAddress():n.from&&(n.from=ce(i.provider,n.from));const s=yield fe({args:le(i.signer||i.provider,t,e.inputs),address:i.resolvedAddress,overrides:fe(n)||{}}),a=i.interface.encodeFunctionData(e,s.args),r={data:a,to:s.address},o=s.overrides;if(o.nonce!=null&&(r.nonce=x.from(o.nonce).toNumber()),o.gasLimit!=null&&(r.gasLimit=x.from(o.gasLimit)),o.gasPrice!=null&&(r.gasPrice=x.from(o.gasPrice)),o.maxFeePerGas!=null&&(r.maxFeePerGas=x.from(o.maxFeePerGas)),o.maxPriorityFeePerGas!=null&&(r.maxPriorityFeePerGas=x.from(o.maxPriorityFeePerGas)),o.from!=null&&(r.from=o.from),o.type!=null&&(r.type=o.type),o.accessList!=null&&(r.accessList=ot(o.accessList)),r.gasLimit==null&&e.gas!=null){let u=21e3;const d=M(a);for(let b=0;b<d.length;b++)u+=4,d[b]&&(u+=64);r.gasLimit=x.from(e.gas).add(u)}if(o.value){const u=x.from(o.value);!u.isZero()&&!e.payable&&g.throwError("non-payable method cannot override value",h.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),r.value=u}o.customData&&(r.customData=H(o.customData)),o.ccipReadEnabled&&(r.ccipReadEnabled=!!o.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const l=Object.keys(n).filter(u=>n[u]!=null);return l.length&&g.throwError(`cannot override ${l.map(u=>JSON.stringify(u)).join(",")}`,h.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:l}),r})}function Yt(i,e){return function(...t){return pe(i,e,t)}}function en(i,e){const t=i.signer||i.provider;return function(...n){return V(this,void 0,void 0,function*(){t||g.throwError("estimate require a provider or signer",h.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const s=yield pe(i,e,n);return yield t.estimateGas(s)})}}function tn(i,e){const t=e.wait.bind(e);e.wait=n=>t(n).then(s=>(s.events=s.logs.map(a=>{let r=je(a),o=null;try{o=i.interface.parseLog(a)}catch{}return o&&(r.args=o.args,r.decode=(l,u)=>i.interface.decodeEventLog(o.eventFragment,l,u),r.event=o.name,r.eventSignature=o.signature),r.removeListener=()=>i.provider,r.getBlock=()=>i.provider.getBlock(s.blockHash),r.getTransaction=()=>i.provider.getTransaction(s.transactionHash),r.getTransactionReceipt=()=>Promise.resolve(s),r}),s))}function $e(i,e,t){const n=i.signer||i.provider;return function(...s){return V(this,void 0,void 0,function*(){let a;if(s.length===e.inputs.length+1&&typeof s[s.length-1]=="object"){const l=H(s.pop());l.blockTag!=null&&(a=yield l.blockTag),delete l.blockTag,s.push(l)}i.deployTransaction!=null&&(yield i._deployed(a));const r=yield pe(i,e,s),o=yield n.call(r,a);try{let l=i.interface.decodeFunctionResult(e,o);return t&&e.outputs.length===1&&(l=l[0]),l}catch(l){throw l.code===h.errors.CALL_EXCEPTION&&(l.address=i.address,l.args=s,l.transaction=r),l}})}}function nn(i,e){return function(...t){return V(this,void 0,void 0,function*(){i.signer||g.throwError("sending a transaction requires a signer",h.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),i.deployTransaction!=null&&(yield i._deployed());const n=yield pe(i,e,t),s=yield i.signer.sendTransaction(n);return tn(i,s),s})}}function Oe(i,e,t){return e.constant?$e(i,e,t):nn(i,e)}function Be(i){return i.address&&(i.topics==null||i.topics.length===0)?"*":(i.address||"*")+"@"+(i.topics?i.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class Q{constructor(e,t){c(this,"tag",e),c(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter(n=>t||n.listener!==e?!0:(t=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const t=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const s=e.slice();return setTimeout(()=>{n.listener.apply(this,s)},0),!n.once}),t}prepareEvent(e){}getEmit(e){return[e]}}class rn extends Q{constructor(){super("error",null)}}class Ce extends Q{constructor(e,t,n,s){const a={address:e};let r=t.getEventTopic(n);s?(r!==s[0]&&g.throwArgumentError("topic mismatch","topics",s),a.topics=s.slice()):a.topics=[r],super(Be(a),a),c(this,"address",e),c(this,"interface",t),c(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(t,n)=>this.interface.decodeEventLog(this.fragment,t,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){const t=jt(e.args);if(t.length)throw t[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class Me extends Q{constructor(e,t){super("*",{address:e}),c(this,"address",e),c(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{const t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(n,s)=>this.interface.decodeEventLog(t.eventFragment,n,s),e.args=t.args}catch{}}}class sn{constructor(e,t,n){c(this,"interface",W(new.target,"getInterface")(t)),n==null?(c(this,"provider",null),c(this,"signer",null)):rt.isSigner(n)?(c(this,"provider",n.provider||null),c(this,"signer",n)):st.isProvider(n)?(c(this,"provider",n),c(this,"signer",null)):g.throwArgumentError("invalid signer or provider","signerOrProvider",n),c(this,"callStatic",{}),c(this,"estimateGas",{}),c(this,"functions",{}),c(this,"populateTransaction",{}),c(this,"filters",{});{const r={};Object.keys(this.interface.events).forEach(o=>{const l=this.interface.events[o];c(this.filters,o,(...u)=>({address:this.address,topics:this.interface.encodeFilterTopics(l,u)})),r[l.name]||(r[l.name]=[]),r[l.name].push(o)}),Object.keys(r).forEach(o=>{const l=r[o];l.length===1?c(this.filters,o,this.filters[l[0]]):g.warn(`Duplicate definition of ${o} (${l.join(", ")})`)})}if(c(this,"_runningEvents",{}),c(this,"_wrappedEmits",{}),e==null&&g.throwArgumentError("invalid contract address or ENS name","addressOrName",e),c(this,"address",e),this.provider)c(this,"resolvedAddress",ce(this.provider,e));else try{c(this,"resolvedAddress",Promise.resolve(F(e)))}catch{g.throwError("provider is required to use ENS name as contract address",h.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(r=>{});const s={},a={};Object.keys(this.interface.functions).forEach(r=>{const o=this.interface.functions[r];if(a[r]){g.warn(`Duplicate ABI entry for ${JSON.stringify(r)}`);return}a[r]=!0;{const l=o.name;s[`%${l}`]||(s[`%${l}`]=[]),s[`%${l}`].push(r)}this[r]==null&&c(this,r,Oe(this,o,!0)),this.functions[r]==null&&c(this.functions,r,Oe(this,o,!1)),this.callStatic[r]==null&&c(this.callStatic,r,$e(this,o,!0)),this.populateTransaction[r]==null&&c(this.populateTransaction,r,Yt(this,o)),this.estimateGas[r]==null&&c(this.estimateGas,r,en(this,o))}),Object.keys(s).forEach(r=>{const o=s[r];if(o.length>1)return;r=r.substring(1);const l=o[0];try{this[r]==null&&c(this,r,this[l])}catch{}this.functions[r]==null&&c(this.functions,r,this.functions[l]),this.callStatic[r]==null&&c(this.callStatic,r,this.callStatic[l]),this.populateTransaction[r]==null&&c(this.populateTransaction,r,this.populateTransaction[l]),this.estimateGas[r]==null&&c(this.estimateGas,r,this.estimateGas[l])})}static getContractAddress(e){return it(e)}static getInterface(e){return Re.isInterface(e)?e:new Re(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(t=>(t==="0x"&&g.throwError("contract not deployed",h.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||g.throwError("sending a transactions require a signer",h.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const t=H(e||{});return["from","to"].forEach(function(n){t[n]!=null&&g.throwError("cannot override "+n,h.errors.UNSUPPORTED_OPERATION,{operation:n})}),t.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(t))}connect(e){typeof e=="string"&&(e=new at(e,this.provider));const t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&c(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return me.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new rn);if(e==="event")return this._normalizeRunningEvent(new Q("event",null));if(e==="*")return this._normalizeRunningEvent(new Me(this.address,this.interface));const t=this.interface.getEvent(e);return this._normalizeRunningEvent(new Ce(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{const n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");const s=this.interface.getEvent(n);return this._normalizeRunningEvent(new Ce(this.address,this.interface,s,e.topics))}catch{}const t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new Q(Be(t),t))}return this._normalizeRunningEvent(new Me(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,n){const s=je(t);return s.removeListener=()=>{!n||(e.removeListener(n),this._checkRunningEvents(e))},s.getBlock=()=>this.provider.getBlock(t.blockHash),s.getTransaction=()=>this.provider.getTransaction(t.transactionHash),s.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(s),s}_addEventListener(e,t,n){if(this.provider||g.throwError("events require a provider or a signer with a provider",h.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const s=a=>{let r=this._wrapEvent(e,a,t);if(r.decodeError==null)try{const o=e.getEmit(r);this.emit(e.filter,...o)}catch(o){r.decodeError=o.error}e.filter!=null&&this.emit("event",r),r.decodeError!=null&&this.emit("error",r.decodeError,r)};this._wrappedEmits[e.tag]=s,e.filter!=null&&this.provider.on(e.filter,s)}}queryFilter(e,t,n){const s=this._getRunningEvent(e),a=H(s.filter);return typeof t=="string"&&q(t,32)?(n!=null&&g.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),a.blockHash=t):(a.fromBlock=t!=null?t:0,a.toBlock=n!=null?n:"latest"),this.provider.getLogs(a).then(r=>r.map(o=>this._wrapEvent(s,o,null)))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;const n=this._getRunningEvent(e),s=n.run(t)>0;return this._checkRunningEvents(n),s}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((t,n)=>t+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const t=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(s=>{t.push(s)});return t}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const n in this._runningEvents){const s=this._runningEvents[n];s.removeAllListeners(),this._checkRunningEvents(s)}return this}const t=this._getRunningEvent(e);return t.removeAllListeners(),this._checkRunningEvents(t),this}off(e,t){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(t),this._checkRunningEvents(n),this}removeListener(e,t){return this.off(e,t)}}class Pe extends sn{}const an="ethers/5.7.2";new h(an);const on="/assets/image1.c7df6166.png",ln=()=>{{let{host:i,protocol:e}=location;return(e==="https:"?"wss:":"ws:")+"//"+i+"/msg"}};function un(i){return lt({url:"/api/nft_ipfs",method:"GET",params:i})}const cn=[{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{constant:!0,inputs:[],name:"_decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"_name",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"_symbol",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"burn",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getOwner",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"renounceOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],dn=[{inputs:[{internalType:"address",name:"wolfox",type:"address"},{internalType:"address",name:"_token",type:"address"},{internalType:"address",name:"_payee",type:"address"},{internalType:"uint256",name:"_price",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"baseTokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"mintOpen",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"}],name:"mintWithPayment",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"payee",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"price",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_baseTokenURI",type:"string"}],name:"setBaseTokenURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_mintOpen",type:"bool"}],name:"setMintOpen",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_payee",type:"address"}],name:"setPayee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_price",type:"uint256"}],name:"setPrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_token",type:"address"}],name:"setToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"}],pn=i=>(At("data-v-c2364a85"),i=i(),xt(),i),hn={class:"WolfoxClub"},fn={class:"container"},yn=Et('<div class="big-title" data-v-c2364a85>Wolfox Club</div><div class="content" data-v-c2364a85><div class="image" data-v-c2364a85><img src="'+on+'" data-v-c2364a85></div><div class="text-container" data-v-c2364a85><div class="description" data-v-c2364a85>Wolfox is a NFT collection of 1,000 based on Polygon. Holders have the highest equity in SG Eco. Mint price gradually increases with the number of sales.</div><div class="bottom" data-v-c2364a85><div class="small-title" data-v-c2364a85><div class="text" data-v-c2364a85>Equity</div><div class="line" data-v-c2364a85></div></div><div class="list-items" data-v-c2364a85><div class="list-item" data-v-c2364a85>Comp airdrop</div><div class="list-item" data-v-c2364a85>Alpha Identity</div><div class="list-item" data-v-c2364a85>Exclusive Groups, giveaway and Services</div><div class="list-item" data-v-c2364a85>Transaction fee discounts</div></div></div></div></div>',2),mn={class:"progress-items"},gn={class:"title"},bn={class:"status"},wn={class:"button-container"},En={key:0,class:"result-modal"},_n={class:"container"},vn=pn(()=>N("div",{class:"title"},"Congratulation\uFF01",-1)),Tn={class:"image"},An=["src"],xn={class:"code"},Sn=ut({__name:"index",setup(i){let{defineCancelMaps:e,saveCancelFn:t,cancelRequests:n}=Rt();e([Nt,Ae]);let s=te(()=>_=>_===0),a=te(()=>_=>_===1),r=te(()=>{const _=z({[0]:"Ended",[1]:"Now",[2]:"Coming Soon"});return R=>_.value[R]}),o=z([{title:"Free Mint",status:0},{title:"$1,000",status:1},{title:"$2,000",status:2},{title:"$5,000",status:2},{title:"$10,000",status:2}]),l=ct(),u=dt(),d=null,b=z(),y=te(()=>b.value===0),w=z(!1),T=z("Coming Soon"),I=z({visible:!1,id:"",detail:null});async function Ge(){if(T.value==="Coming Soon"||T.value==="Insufficient USDT balance")return;if(y.value)return l.addMessage("The event will open soon, so stay tuned!");if(w.value)return;if(u.connectStatus!==_t.Connected)return u.openSelectModal();let _=u.getProvider(),R=await(_==null?void 0:_.detectNetwork());if((R==null?void 0:R.chainId)!==+"137"){await u.switchNetwork();return}let S=u.account;try{w.value=!0;const v=new Pe("0x39bafF4e729512cC2245D4ec28665FE738e1E6d7",dn,_.getSigner()),D=new Pe("0xc2132D05D31c914a87C6611C10748AEb04B58e8F",cn,_.getSigner());let he=(await v.functions.price())[0],Je=(await D.functions.balanceOf(S))[0],be=(await D.functions.allowance(S,"0x39bafF4e729512cC2245D4ec28665FE738e1E6d7"))[0];if(T.value==="Approve use of USDT")return await(await D.functions.approve("0x39bafF4e729512cC2245D4ec28665FE738e1E6d7",he.sub(be))).wait(),T.value="Mint now";if(Je.lt(he))return T.value="Insufficient USDT balance";if(be.lt(he))return T.value="Approve use of USDT";const we=(await(await v.functions.mintWithPayment(S)).wait()).events.find(Ee=>Ee.event==="Transfer").args.tokenId.toString();let{cancel:We,request:qe}=un({id:we});t(Ae,We);let He=await qe();I.value.visible=!0,I.value.id=we,I.value.detail=He}catch(v){if(Te.isCancel(v))return;if(Te.isAxiosError(v))return l.addMessage(v.message);if(v instanceof Error&&vt[v==null?void 0:v.code]){let D=v;l.addMessage(D.reason);return}v instanceof Error&&l.addMessage(v.message)}finally{w.value=!1}}function Fe(){window.open("https://testnets.opensea.io/assets/mumbai/0x53753e482128E1E79d8F4B329fB4e3B041811dB9/"+I.value.id)}return pt(()=>{d=new WebSocket(ln()),d.addEventListener("open",()=>{let _=JSON.parse(localStorage.getItem(ht));_&&d.send(JSON.stringify({type:"login",data:_.token})),d==null||d.send(JSON.stringify({type:"mintOpen"}))}),d.addEventListener("message",_=>{let{type:R,data:S}=JSON.parse(_.data);switch(R){case"MINT_OPEN":b.value=Number(S.status);break}})}),ft(()=>{n(),d==null||d.close()}),(_,R)=>(re(),ne("div",hn,[N("div",fn,[yn,N("div",mn,[(re(!0),ne(yt,null,mt(o.value,S=>(re(),ne("div",{class:ve(["progress-item",{ended:s.value(S.status),progress:a.value(S.status)}])},[N("div",gn,J(S.title),1),N("div",bn,J(r.value(S.status)),1)],2))),256))]),N("div",wn,[N("div",{class:ve(["text",{"mint-not-open":y.value}]),onClick:Ge},J(T.value)+" "+J(w.value?"...":""),3)])]),gt(wt,{name:"result-modal"},{default:bt(()=>{var S,v;return[I.value.visible?(re(),ne("div",En,[N("div",_n,[N("div",{class:"close-icon",onClick:R[0]||(R[0]=D=>I.value.visible=!1)}),vn,N("div",Tn,[N("img",{src:(S=I.value.detail)==null?void 0:S.image},null,8,An)]),N("div",xn,J((v=I.value.detail)==null?void 0:v.name),1),N("div",{class:"button",onClick:Fe},"Go to View")])])):Tt("",!0)]}),_:1})]))}});const Pn=St(Sn,[["__scopeId","data-v-c2364a85"]]);export{Pn as default};
